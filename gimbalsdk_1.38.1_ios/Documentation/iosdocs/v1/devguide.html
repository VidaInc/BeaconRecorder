<!DOCTYPE html>
<html lang="en">
<head>
    <title>Gimbal iOS V1 Developer Guide</title>

    <meta name="description" content="">
    <meta name="author" content="">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link href="../../css/bootstrap.css" rel="stylesheet">
    <link href="../../css/overrides.css" rel="stylesheet">
    <link href="../../css/bootstrap-responsive.css" rel="stylesheet">
    <link href="../../css/prettify.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
    <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <link rel="shortcut icon" href="../../images/favicon.ico">
</head>

<body data-spy="scroll" data-target=".sidebar-nav" onload="prettyPrint();">

<div class="navbar navbar-inverse navbar-fixed-top">
    <div class="navbar-inner">
        <div class="container-fluid">

            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" href="https://manager.gimbal.com"><img src="../../images/gimbal_logo.png"></a>

            <div class="nav-collapse collapse">
                <ul class="nav">
                      
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                            Overview
                            <b class="caret black-caret"></b>
                        </a>
                        <ul class="dropdown-menu">
                            <li><a href="../../index.html">Overview</a></li>
                            <li><a href="../../proximity_overview.html">Proximity Overview</a></li>
                        </ul>
                    </li>

                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                            iOS
                            <b class="caret black-caret"></b>
                        </a>
                        <ul class="dropdown-menu">

                          <li class="dropdown-submenu"><a href="#">Version 2 API</a>
                            <ul class="dropdown-menu">
                                    <li><a href="../../iosdocs/v2/devguide.html">Developer Guide</a></li>
                                    <li><a href="../../ios_v2_api/index.html">API Reference</a></li>
                            </ul>
                          </li> 
                          <li class="dropdown-submenu"><a href="#">Version 1 API</a>
                                <ul class="dropdown-menu">
                                    <li><a href="../../iosdocs/v1/quickstart.html">Quickstart</a></li>
                                    <li><a href="../../iosdocs/v1/devguide.html">Developer Guide</a></li>
                                    <li><a href="../../ios/html/index.html">API Reference</a></li>
                                </ul>
                          </li>
                        </ul>
                    </li>

                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                            Android
                            <b class="caret black-caret"></b>
                        </a>
                        <ul class="dropdown-menu">
                          <li class="dropdown-submenu"><a href="#">Version 2 API</a>
                            <ul class="dropdown-menu">
                                    <li><a href="../../android/v2/devguide.html">Developer Guide</a></li>
                            </ul>
                          </li>
                          <li class="dropdown-submenu"><a href="#">Version 1 API</a>
                              <ul class="dropdown-menu">
                                    <li><a href="../../android/v1/quickstart.html">Quickstart</a></li>
                                    <li><a href="../../android/v1/devguide.html">Developer Guide</a></li>
                                </ul>
                          </li>
                        </ul>
                    </li>


                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                            REST API
                            <b class="caret black-caret"></b>
                        </a>
                        <ul class="dropdown-menu">
                            <li><a href="../../restapi/rest.html">Manager REST API</a></li>
                            <li><a href="../../restapi/restV2.html">Places REST API Beta</a></li>
                        </ul>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                            User Manuals
                            <b class="caret black-caret"></b>
                        </a>
                        <ul class="dropdown-menu">
                            <li><a href="../../manuals/S21.html">Series 21 Proximity Beacon</a></li>
                        </ul>
                    </li>



                </ul>
            </div>
        </div>
    </div>
</div>
 

    <div id="context-ios" class="row-fluid">
<div class="span3">
<div class="span3">
    <div id="sidenav" class="well sidebar-nav sidebar-nav-fixed" style="overflow-y:auto;height:auto;">
        <ul class="nav nav-list">
            
            <li class="nav-header"><a href="../../Gimbal_SDK_for_iOS.pdf">Full Documentation (PDF)</a></li>
            <li class="nav-header">Context</li>
            <li class="nav-header"><a href="#using_context_core_connector">Using QLContextCoreConnector</a></li>
            <ul class="nav nav-list">
              <li><a href="#enable_core_connector">Enable the Connector</a></li>
              <li><a href="#check_core_connector_status">Check the Status</a></li>
              <li><a href="#delete_data_disable_gimbal">Delete a User's Data and Disable Gimbal</a></li>
              <li><a href="#custom_opt_in">Custom Opt-in and Privacy</a></li>
              <li><a href="#enable_debug_mode">Enable Debug Mode</a></li>
            </ul>

            <li class="nav-header"><a href="#geofence">Geofence</a></li>
            <ul class="nav nav-list">
              <li class="dropdown">              
                  <a class="dropdown-toggle" data-toggle="dropdown" href="#">Place Monitoring <b
                          class="caret"></b></a>
                  <ul class="dropdown-menu">
                      <li><a href="#obtain_instance_geofence">Initialize connector</a></li>
                      <li><a href="#stop_listening_geofence">Listening for place event</a></li>
                      <li><a href="#check_if_place_monitor_geofence">Checking if place monitoring is available</a></li>
                      <li><a href="#handling_leave_events_geofence">Handling Leave Events</a></li>
                  </ul>
              </li>
            </ul>
            <li class="nav-header">Proximity</li>

            <li class="nav-header"><a href="#initialization">Initialization</a></li>
            <ul class="nav nav-list">
                <li><a href="#disable_location">Enable and Disable Location Updates</a></li>
                <li><a href="#set_app_id">Set Application ID, Secret and Callback URL</a></li>
                <li><a href="#start_service">Start Service</a></li>
                <li><a href="#stop_service">Stop Service</a></li>
                <li><a href="#delete_app_data">Delete User Proximity Data</a></li>
                <li><a href="#hide_bt_powered_off_alert_view">How to show Bluetooth Powered Off Alert View</a></li>
            </ul>

            <li class="nav-header"><a href="#sightings">Sightings</a></li>
            <ul class="nav nav-list">
                <li><a href="#scan">Scan</a></li>
                <li><a href="#scan_with_options">Scan With Options</a></li>
                <li><a href="#sighting_delegate">Sighting Delegate</a></li>
                <li><a href="#stop_scan">Stop Scanning</a></li>
                <li><a href="#post_to_server_config">Post To Server Configuration</a></li>
            </ul>

            <li class="nav-header"><a href="#visits">Visits</a></li>
            <ul class="nav nav-list">
                <li><a href="#start">Start</a></li>
                <li><a href="#start_with_options">Start With Options</a></li>
                <li><a href="#visit_delegate">Visit Delegate</a></li>
                <li><a href="#stop">Stop</a></li>
            </ul>

            <li class="nav-header" style="text-transform:none;"><a href="#ibeacons">iBeacon&#8482;</a></li>
            <ul class="nav nav-list">
                <li><a href="#ibeacon_overview">Overview</a></li>
                <li><a href="#ibeacon_visits">Visits</a></li>
            </ul>

            <li class="nav-header" style="text-transform:none;"><a href="#beacon_configuration">Beacon Configuration</a></li>
            <ul class="nav nav-list">
                <li><a href="#beacon_default_configurations">Default Beacon Configurations</a></li>
                <li><a href="#beacon_assign_configuration">Assign a Configuration To Beacon</a></li>
                <li><a href="#configure_beacon">Push Configuration to Beacon</a></li>
            </ul>

            <li class="nav-header"><a href="#background">Background</a></li>
            <ul class="nav nav-list">
                <li><a href="#background_modes">Modes</a></li>
                <li><a href="#background_behavior">Behavior</a></li>
            </ul>

            <li class="nav-header"><a href="#app_info">Application Information</a></li>
            <li class="nav-header"><a href="#add_transmitter">Transmitter Management</a></li>
            <li class="nav-header"><a href="#set_log_level">Logging</a></li>

  
              <li class="nav-header">Communicate</li>
              <li>
              <ul class="nav nav-list">
                <li><a href="#communicate">Create Communication</a></li>
                <li><a href="#proximity">Setup Proximity</a></li>
                <li><a href="#context">Setup Context</a></li>
                <li><a href="#combined">Tie it All Together</a></li>
              </ul></li>
        </ul>
    </div>
</div>
</div>

<div class="span9">
<!-- Introduction -->
<div class="hero-unit">
    <h1>iOS Version 1 Developer Guide</h1>

    <p>If you haven't done it yet be sure to check out the iOS Quick Start Guide to get the SDK installed and
        running.</p>

    <p><a href="../../iosdocs/v1/quickstart.html" class="btn btn-primary btn-large">iOS Quick Start &raquo;</a></p>

    <p>This document describes how to use the Gimbal framework to develop iOS applications that can 
benefit from contextual Services.</p>

</div>
<!-- iOS QL Context Core Connector -->
<div id="using_context_core_connector"></div>
<div class="row-fluid" id="using_context_core_connector">
  <div class="span11">
    <h1>Using QLContextCoreConnector</h1>
    <hr/>
    <h2>Description</h2>
  <p>The QLContextCoreConnector must be enabled prior to using any other Gimbal features.</p>
  <p>All calls to the API will return failures with a disabled status message until this step is complete.</p>
    <hr />
  </div>
</div>


<div class="row-fluid api_row" id="enable_core_connector">
  <div class="span11">
    <h2>Enable the connector</h2>
    <p>The <code>enableFromViewController:success:failure:</code> method is used to enable the SDK for use by the end user.</p>
    <p>Note: This call is asynchronous and use objective-c blocks to return results when they are available. </p>
                
    <pre class="prettyprint lang-js">

    QLContextCoreConnector *contextCoreConnector = [QLContextCoreConnector new]; 
    [contextCoreConnector enableFromViewController:self.window.rootViewController
      success:^{
         NSLog(@"Gimbal enabled");
      }
      failure:^(NSError *error) { 
        NSLog(@"Failed to initialize gimbal %@", error);
      }];
    </pre>
  </div>
</div>

<div class="row-fluid api_row" id="check_core_connector_status">
  <div class="span11">
    <h2>Check the Status</h2>
    <p>The <code>checkStatusAndOnEnabled:disabled:</code> method allows your application to ensure that it has been previously enabled.</p>
    <p>Note: This call is asynchronous and use objective-c blocks to return results when they are available. </p>
    
    <pre class="prettyprint lang-js">

    [contextCoreConnector checkStatusAndOnEnabled: ^(QLContextConnectorPermissions *contextConnectorPermissions) { 
      NSLog(@"Already enabled");
    } 
    disabled:^(NSError *error) { 
      NSLog(@"Is not enabled");
    }];
    </pre>
  </div>
</div>

<div class="row-fluid api_row" id="delete_data_disable_gimbal">
  <div class="span11">
    <h2>Delete a User's Data and Disable Gimbal</h2>

    <pre class="prettyprint lang-js">

    [contextCoreConnector deleteAllUserDataAndOnSuccess:^{ 
      NSLog(@"User data deletion SUCCESS");
    } 
    failure:^(NSError *error) { 
      NSLog(@"User data deletion FAILURE: %@", error ); 
    }];
    </pre>
  </div>
</div>

<hr />
<div class="row-fluid api_row" id="custom_opt_in">
  <div class="span11">
    <h1>Custom Opt-in and Privacy</h1>
    <hr/>
    <h2>Description</h2>
    <p>By default, when you enable the SDK using <code>enableFromViewController:success:failure:</code> a Gimbal branded dialog containing the end user consent, privacy notice and terms of service will be presented to the end user.</p>
    <p>However, you have the choice to display your own privacy notice and end user opt-in consent in lieu of the Gimbal branded dialog.</p>
    <p><span class="label label-important">Important</span> You will be bound by the "White Label Mode" terms within the <a href="https://manager.gimbal.com/sdk-license/" class="external-link" rel="nofollow">Gimbal Developer Agreement</a>.</p>
  </div>
</div>

<div class="row-fluid api_row" id="custom_opt_in">
  <div class="span11">
    <h2>Custom Opt-in Mode</h2>
    <p>To use this feature, simply add the property <code>CUSTOM_OPT_IN_FLOW: YES</code> to <code>UserContext.plist</code> file.</p>
    <p><img src="../../images/custom_optin_ios.png"/></p>
  </div>
</div>
<hr/>


<div class="row-fluid api_row" id="enable_debug_mode">
  <div class="span11">
    <h1>Enable Debug Mode</h1>
    <hr/>
    <p>Developer can use this option to enable debug mode which will add a debug user interface on the privacy panel. Debug panel will give you access to the following.</p>
    <li> Visualize existing Place Events</li>
    <li> Currenlty Monitored Geofences</li>
    <li> Simulate Place Events</li>
    
    <p><span class="label label-important">Important</span> Please do not enable this in your production application.</p>

    <p>You will be able to use this feature by adding a property <code>SHOW_DEBUG_PANELS: YES</code> to <code>UserContext.plist</code> file.</p>
    <p><img src="../../images/debug_panel_ios.png"/></p>
  </div>
</div>
<hr/>
<div id="geofence"></div>
<div class="row-fluid" id="obtain_instance_geofence">
  <div class="span11">
    <h1>Place monitoring</h1>
  </div>
</div>

<div class="row-fluid api_row" id="obtain_instance_geofence">
  <div class="span11">
    <h2>Initialize connector</h2>
    <pre class="prettyprint lang-js">

     self.contextPlaceConnector = [[QLContextPlaceConnector alloc] init]; 
    </pre>
  </div>
</div>

<div class="row-fluid api_row" id="stop_listening_geofence">
  <div class="span11">
    <h2>Listening for place event</h2>
    <p>Implement didGetPlaceEvent method to listen for place events. Gimbal SDK will call this method when it detects Entry/Exit for a place</p>
    <pre class="prettyprint lang-js">

      - (void)didGetPlaceEvent: (QLPlaceEvent *)placeEvent 
      {
        // do something with the place event
      }
    </pre>

    <p>The following fields are available in the <code>QLPlaceEvent</code> passed to the listener: </p>

    <table class='table table-striped table-bordered table-condensed'>
        <thead>
        <tr>
            <th>Field Name</th>
            <th>Description</th>
        </tr>
        </thead>
        <tbody>
        <tr>
            <td>placeType</td>
            <td><code>QLPlaceTypeOrganization</code> refers to places created in Context Console and applies to all of your users. <br/> 
            <code>QLPlaceTypePrivate</code> is created locally on the phone and only applies to a single user.</td>
        </tr>
        <tr>
            <td>eventType</td>
            <td>
            <code>QLPlaceEventTypeAt</code> means that the user has arrived at the place 
            <br/>
            <code>QLPlaceEventTypeLeft</code> means that the user has just left the place. 
            </td>
        </tr>
        <tr>
            <td>Place</td>
            <td>
            The <code>QLPlace</code> object associated tot he event. 
            </td>
        </tr>
        <tr>
            <td>Time</td>
            <td>The time of the event in milliseconds since 1970 (See <code>System.currentTimeMillis())</code></td>
        </tr>
        </tbody>
    </table>
  </div>

</div>

<div class="row-fluid api_row" id="check_if_place_monitor_geofence">
  <div class="span11">
    <h2>Check if place monitoring is available</h2>
    <p>The Gimbal SDK does not support place monitoring on devices such as the iPhone 3GS due to the hardware not being battery efficient to continually monitor geofences in the background. To determine if the device supports place monitoring, call the &#34;isPlaceMonitoringAvailable&#34; on the <code>QLContextPlaceConnector</code> to see if the current device supports place monitoring.</p>
  </div>
</div>

<div class="row-fluid api_row" id="handling_leave_events_geofence">
  <div class="span11">
    <h2>Handling Leave Events</h2>
    <p>We detect &#34;AT&#34; events more quickly than &#34;Leave&#34; events. The system needs sufficient evidence to promote a &#34;Leave&#34; event to be statistically accurate. False &#34;Leave&#34; events happen because location fixes on today’s smartphones tend to bounce around. (Open a map application on your phone and watch the blinking cursor bounce around.) We work to eliminate these inaccuracies to ensure your end-user does not receive multiple incorrect events.</p>
  </div>
</div>

<hr/>
<div class="hero-unit">
    <h1>Proximity iOS Developer Guide</h1>
    <p>The Gimbal Proximity platform enables proximity services within your application. This guide will provide examples for each of
        the available functions in our iOS SDK for Gimbal Proximity. </p>
    <p>If this is your first time working with the Proximity Framework visit the &nbsp;<a href="../../proximity_overview.html" class="btn btn-primary btn-small">Proximity Overview &raquo;</a> </p>
    <p>To get the SDK installed and running checkout the &nbsp;<a href="../../iosdocs/v1/quickstart.html" class="btn btn-primary btn-small">iOS Quick Start &raquo;</a> </p>
</div>
<p>
    <br>
    <br>
    <span class="label label-warning">Note</span> Across all documentation and SDKs the terms 'Beacon' and 'Transmitter' are interchangeable
</p>
<!-- Initialization -->

<div id="initialization"></div>
<div id="disable_location" class="row-fluid api_row">

    <div style="height: 40px;"></div>
    <div class="span12">

        <h1>Enable and Disable Location Updates</h1>
        <hr/>

        <div class="row-fluid">
            <div class="span12">

                <h2>Description</h2>

                <p>These calls allow for enabling and disabling the location updates which are used to provide extra
                    information to a <a href="../../restapi/rest.html#sightings_callback"> sighting callback</a>.
                    By default location
                    updates are enabled and need to be explicitly disabled.</p>

                <p><span class="label label-important">Important</span> If you want to guarantee that end-users are not
                    prompted to enable Location Services, make sure you disable location updates before you <a
                            href="#set_app_id">set the application ID</a>.</p>


                <p><span class="label label-info">Note</span> You can also use options to set different location
                    modes when enabling location updates. The following modes are supported. </a>.</p>                            

                <table class='table table-striped table-bordered table-condensed'>
                    <thead>
                    <tr>
                        <th>Key</th>
                        <th>Value</th>
                        <th>Description</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <td>FYXLocationModeKey</td>
                        <td>FYXLowPowerLocation</td>
                        <td>Uses the cached location from the location Manager. Default Mode</td>
                    </tr>
                    <tr>
                        <td>FYXLocationModeKey</td>
                        <td>FYXHighAccuracyLocation</td>
                        <td>Queries location manager for location Updates</td>
                    </tr>
                    <tr>
                        <td>FYXLocationModeKey</td>
                        <td>FYXNoLocation</td>
                        <td>No location updates</td>
                    </tr>
                    </tbody>
                </table>

                <h2>Sample</h2>
                    <pre class="prettyprint lang-js">

    #import &lt;FYX/FYX.h&gt;
    ...
    //disable location udpates
    [FYX disableLocationUpdates];
    
    //enable location updates. Uses Low Power location by default. 
    [FYX enableLocationUpdates];

    //enable location updates with options
    NSMutableDictionary *options = [[NSMutableDictionary alloc] init];
    [options setObject:[NSString stringWithString:FYXHighAccuracyLocation] forKey:FYXLocationModeKey];
    [FYX enableLocationUpdatesWithOptions:options];
       
                    </pre>
            </div>
        </div>

    </div>
</div>

<div id="set_app_id" class="row-fluid api_row">
    <div style="height: 40px;"></div>
    <div class="span12">

        <h1>Set Application ID, Secret, and Callback URL</h1>
        <hr/>

        <div class="row-fluid">
            <div class="span12">

                <h2>Description</h2>

                <p>This call sets up the SDK with the application ID and Secret. When you
                    register an application on the Developer Portal the ID
                    and Secret are generated and supplied to you.</p>

                <h2>Sample</h2>
                    <pre class="prettyprint lang-js">

    #import &lt;FYX/FYX.h&gt;
    ...
    [FYX setAppId:@"your-app-id" 
        appSecret:@"your-app-secret"
      callbackUrl:@"your-callback-url"];
                    </pre>
            </div>
        </div>

    </div>
</div>

<div id="start_service" class="row-fluid api_row">
    <div style="height: 40px;"></div>
    <div class="span12">

        <h1>Start Service</h1>
        <hr/>

        <div class="row-fluid">
            <div class="span12">

                <h2>Description</h2>

                <p>This call registers the application with the server and starts bluetooth scanning. It does NOT
                    authorize the user of the app. The authorization protected APIs will not function unless you use
                    "authorize" instead.</p>

                <h2>Sample</h2>
                <pre class="prettyprint lang-js">

    #import &lt;FYX/FYX.h&gt;
    ...
    [FYX startService:myServicedelegate];
                </pre>

                <h2>FYXServiceDelegate Methods</h2>

                <p><span class="label label-info">Note</span> You must add the <code>&lt;FYXServiceDelegate&gt;</code>
                    protocol to your class.</p>

                <p>Once the service start has been attempted by calling <code>startService:</code> above, one of the
                    following methods will be invoked on your delegate object once the status of the service has been
                    determined.</p>

                <pre class="prettyprint lang-js">

    #import &lt;FYX/FYX.h&gt;
    ...
    - (void)serviceStarted
    {
        // this will be invoked if the service has successfully started
        // bluetooth scanning will be started at this point
    }
                </pre>
                <pre class="prettyprint lang-js">

    #import &lt;FYX/FYX.h&gt;
    ...
    - (void)startServiceFailed:(NSError *)error
    {
        // this will be called if the service has failed to start
    }
                </pre>
            </div>
        </div>
    </div>
</div>

<div id="stop_service" class="row-fluid api_row">
    <div style="height: 40px;"></div>
    <div class="span12">

        <h1>Stop Service</h1>
        <hr/>

        <div class="row-fluid">
            <div class="span12">

                <h2>Description</h2>

                <p>This call will stop bluetooth scanning.</p>

                <h2>Sample</h2>
                <pre class="prettyprint lang-js">

    #import &lt;FYX/FYX.h&gt;
    ...
    [FYX stopService];
                </pre>

                <p><span class="label label-important">Important</span> The SDK will no longer function properly until
                    you call startService again.</p>
            </div>
        </div>
    </div>
</div>

<div id="delete_app_data" class="row-fluid api_row">
    <div style="height: 40px;"></div>
    <div class="span12">

        <h1>Delete User Proximity Data</h1>
        <hr/>

        <div class="row-fluid">
            <div class="span12">

                <h2>Description</h2>

                <p>This call dissociate a device and data (visits and sightings) reported by the application running on
                    that device. The open visits and sightings gets closed on server. Data (visits and sightings) on
                    device also gets cleared due to this API invocation. </p>

                <h2>Sample</h2>
                <pre class="prettyprint lang-js">

    #import &lt;FYX/FYX.h&gt;
    ...
    [FYX deleteVisitsAndSightings];
                </pre>

                <h2>FYXSessionDelegate Methods</h2>

                <p><span class="label label-info">Note</span> You must add the <code>&lt;FYXSessionDelegate&gt;</code>
                    protocol to your class.</p>

                <p>Once the deletion visit and sightings data has been attempted by calling <code>deleteVisitsAndSightings</code>
                    above, one of the
                    following methods will be invoked on your delegate object once the status of the service invocation
                    has been
                    determined.</p>

                <p><span class="label label-important">Important</span> Visit and Sightings created before invocation of
                    API will be cleared from device. The data
                    on server gets anonymized due to this API invocation. The application should start a session before
                    invocation of delete data API. The application needs to be authorized before using this API.</p>
                <pre class="prettyprint lang-js">

    #import &lt;FYX/FYX.h&gt;
    ...
    - (void)sessionDataDeleted
    {
        // this will be invoked if the visits and sighting data has been successfully deleted
        //
    }
                </pre>
                <pre class="prettyprint lang-js">

    #import &lt;FYX/FYX.h&gt;
    ...
    - (void)sessionDataDeleteFailed:(NSError *)error
    {
        // this will be invoked if the visits and sighting data has not been successfully deleted
    }
                </pre>
            </div>
        </div>
    </div>
</div>

<div id="hide_bt_powered_off_alert_view" class="row-fluid api_row">
    <div style="height: 40px;"></div>
    <div class="span12">

        <h1>How to show the Bluetooth Powered Off Alert View</h1>
        <hr/>

        <div class="row-fluid">
            <div class="span12">

                <h2>Description</h2>

                <p>The following configuration allows a developer to turn on the "Bluetooth is powered off" alert view. The default is <span class="label label-important">to hide</span> the alert view.
                </p>

                <p><span class="label label-info">Note</span> This value must be set into <code>NSUserDefaults</code>
                    before Gimbal Proximity is initialized.</p>

                <h2>Sample</h2>

                <p>Enabling the Bluetooth is powered off alert view</p>
                
                <pre class="prettyprint lang-js">

    [[NSUserDefaults standardUserDefaults] setBool:NO forKey:@"gmbl_hide_bt_power_alert_view"];
                </pre>

            </div>
        </div>

    </div>
</div>

<!-- Sightings -->
<div id="sightings"></div>
<div id="scan" class="row-fluid api_row">
    <div style="height: 40px;"></div>
    <div class="span12">

        <h1>Scan for Sightings</h1>
        <hr/>

        <div class="row-fluid">
            <div class="span12">

                <h2>Description</h2>

                <p>This call creates a <code>sightingManager</code> object and will trigger the callback to your
                    delegate of sightings using the default scanning options. Using this call you will be notified of
                    sightings for proximity devices your application is authorized for.</p>

                <p>If the user is not authorized, you can still register for the callback, but will only see beacons
                    that
                    are registered to the application developer.</p>

                <h2>Sample</h2>
                <pre class="prettyprint lang-js">

    #import &lt;FYX/FYXSightingManager.h&gt;
    ...
    @property (nonatomic) FYXSightingManager *sightingManager;
    ...
    self.sightingManager = [[FYXSightingManager alloc] init];
    self.sightingManager.delegate = myDelegate;
    [self.sightingManager scan];
                </pre>

                <p><span class="label label-info">Note</span> Be sure to add the <a href="#sighting_delegate">Sighting
                    Delegate</a> protocol to your class.</p>
            </div>
        </div>

    </div>
</div>

<div id="scan_with_options" class="row-fluid api_row">
    <div style="height: 40px;"></div>
    <div class="span12">

        <h1>Scan for Sightings With Options</h1>
        <hr/>

        <div class="row-fluid">
            <div class="span12">

                <h2>Description</h2>

                <p>This call creates a <code>sightingManager</code> object and will trigger the callback to your
                    delegate of sightings using the provided scanning options. Using this call you will be notified of
                    sightings for proximity devices your application is authorized for.</p>

                <h2>Scanning Options</h2>
                <h4 id="signal_strength_window">Signal Strength Window</h4>

                <p>This option allows for a window of historic signal strengths to be used for a given device to &quot;smooth&quot;
                    them out to remove quick jumps in signal strength. The larger the window the less the signal
                    strength will jump but the slower it will react to the signal strength changes.</p>

                <table class='table table-striped table-bordered table-condensed'>
                    <thead>
                    <tr>
                        <th>Key</th>
                        <th>Value</th>
                        <th>Description</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <td>FYXSightingOptionSignalStrengthWindowKey</td>
                        <td>FYXSightingOptionSignalStrengthWindowNone</td>
                        <td>No window of historic signal strengths is used</td>
                    </tr>
                    <tr>
                        <td>FYXSightingOptionSignalStrengthWindowKey</td>
                        <td>FYXSightingOptionSignalStrengthWindowSmall</td>
                        <td>A small window of historic signal strengths is used</td>
                    </tr>
                    <tr>
                        <td>FYXSightingOptionSignalStrengthWindowKey</td>
                        <td>FYXSightingOptionSignalStrengthWindowMedium</td>
                        <td>A medium window of historic signal strengths is used</td>
                    </tr>
                    <tr>
                        <td>FYXSightingOptionSignalStrengthWindowKey</td>
                        <td>FYXSightingOptionSignalStrengthWindowLarge</td>
                        <td>A large window of historic signal strengths is used</td>
                    </tr>
                    </tbody>
                </table>

                <h2>Sample</h2>
                <pre class="prettyprint lang-js">

    #import &lt;FYX/FYXSightingManager.h&gt;
    ...
    @property (nonatomic) FYXSightingManager *sightingManager;
    ...
    NSMutableDictionary *options = [[NSMutableDictionary alloc] init];
    [options setObject:[NSNumber numberWithInt:FYXSightingOptionSignalStrengthWindowNone]
                forKey:FYXSightingOptionSignalStrengthWindowKey];

    self.sightingManager = [[FYXSightingManager alloc] init];
    self.sightingManager.delegate = myDelegate;
    [self.sightingManager scanWithOptions:options];
                </pre>

                <p><span class="label label-info">Note</span> Be sure to add the <a href="#sighting_delegate">Sighting
                    Delegate</a> protocol to your class.</p>
            </div>
        </div>

    </div>
</div>

<div id="sighting_delegate" class="row-fluid api_row">
    <div style="height: 40px;"></div>
    <div class="span12">

        <h1>Sighting Delegate</h1>
        <hr/>

        <div class="row-fluid">
            <div class="span12">

                <h2>Description</h2>

                <p>This is the callback delegate for sighting notifications.</p>

                <h2>Sample FYXSightingDelegate Methods</h2>

                <p><span class="label label-info">Note</span> You must add the <code>&lt;FYXSightingDelegate&gt;</code>
                    protocol to your class.</p>

                <p>The following callback will be invoked when an authorized transmitter is sighted.</p>

                <pre class="prettyprint lang-js">

    #import &lt;FYX/FYXSightingManager.h&gt;
    ...
    - (void)didReceiveSighting:(FYXTransmitter *)transmitter time:(NSDate *)time RSSI:(NSNumber *)RSSI
    {
        // this will be invoked when an authorized transmitter is sighted
    }
                </pre>

                <h4 id="transmitter_properties">FYXTransmitter Properties</h4>

                <table class='table table-striped table-bordered table-condensed'>
                    <thead>
                    <tr>
                        <th>Property Name</th>
                        <th>Description</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <td>identifier</td>
                        <td>Unique identifier for this transmitter</td>
                    </tr>
                    <tr>
                        <td>name</td>
                        <td>Name assigned to this transmitter</td>
                    </tr>
                    <tr>
                        <td>ownerId</td>
                        <td>Unique identifier of the owner of the transmitter</td>
                    </tr>
                    <tr>
                        <td>iconUrl</td>
                        <td>URL to an icon image <b>(optional)</b></td>
                    </tr>
                    <tr>
                        <td>battery</td>
                        <td>Battery level indication. <code>0=LOW, 1=MED/LOW, 2=MED/HIGH, 3=HIGH</code>
                            <b>(optional)</b></td>
                    </tr>
                    <tr>
                        <td>temperature</td>
                        <td>Temperature of transmitter in fahrenheit <b>(optional)</b></td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>

<div id="stop_scan" class="row-fluid api_row">
    <div style="height: 40px;"></div>
    <div class="span12">

        <h1>Stop Scanning for Sightings</h1>
        <hr/>

        <div class="row-fluid">
            <div class="span12">

                <h2>Description</h2>

                <p>This call stops the callbacks to the delegate for sightings.</p>

                <h2>Sample</h2>
                <pre class="prettyprint lang-js">

    #import &lt;FYX/FYXSightingManager.h&gt;
    ...
    [self.sightingManager stopScan];
                </pre>
            </div>
        </div>

    </div>
</div>

<div id="post_to_server_config" class="row-fluid api_row">
    <div style="height: 40px;"></div>
    <div class="span12">

        <h1>Post To Service Configuration</h1>
        <hr/>

        <div class="row-fluid">
            <div class="span12">

                <h2>Description</h2>

                <p>The following configuration allows a developer to adjust the interval in seconds at which sightings
                    are posted
                    to the Gimbal Proximity service. The default is <span class="label label-important">5 minutes</span>.
                </p>

                <p><span class="label label-info">Note</span> This value must be set into <code>NSUserDefaults</code>
                    before Gimbal Proximity is initialized.</p>

                <h2>Sample</h2>

                <p>Post sightings to the Gimbal Proximity service every ten seconds.</p>
                
                <pre class="prettyprint lang-js">

    [[NSUserDefaults standardUserDefaults] setInteger:10 forKey:@"fyx_post_to_server_interval_preference"];
                </pre>
            </div>
        </div>

    </div>
</div>

<!-- Visits -->
<!-- visits -->
<div id="visits"></div>
<div id="start" class="row-fluid api_row">
    <div style="height: 40px;"></div>
    <div class="span12">

        <h1>Start Visit Manager</h1>
        <hr/>

        <div class="row-fluid">
            <div class="span12">

                <h2>Description</h2>

                <p>This call creates a <code>FYXVisitManager</code> object and will trigger the callback to your
                    delegate of visits using the default options. Using this call you will be notified of
                    visit arrive, sightings and depart for proximity devices your application is authorized for.</p>

                <p>If the user is not authorized, you can still register for the callback, but will only see beacons
                    that are registered to the application developer.</p>

                <h2>Sample</h2>
                <pre class="prettyprint lang-js">

    #import &lt;FYX/FYXVisitManager.h&gt;
    ...
    @property (nonatomic) FYXVisitManager *visitManager;
    ...
    self.visitManager = [[FYXVisitManager alloc] init];
    self.visitManager.delegate = self;
    [self.visitManager start];
                </pre>

                <p><span class="label label-info">Note</span> Be sure to add the <a href="#visit_delegate">Visit
                    Delegate</a> protocol to your class.</p>
            </div>
        </div>

    </div>
</div>

<div id="start_with_options" class="row-fluid api_row">
    <div style="height: 40px;"></div>
    <div class="span12">

        <h1>Start Visit Manager With Options</h1>
        <hr/>

        <div class="row-fluid">
            <div class="span12">

                <h2>Description</h2>

                <p>This call creates a <code>FYXVisitManager</code> object and will trigger the callback to your
                    delegate of visits using the provided options. Using this call you will be notified of
                    visit arrive, sightings and depart for proximity devices your application is authorized for.</p>

                <h2>Options</h2>
                <table class='table table-striped table-bordered table-condensed'>
                    <thead>
                    <tr>
                        <th>Option Key</th>
                        <th>Description</th>
                        <th>Data Type</th>
                        <th>Default</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <td><a href="#signal_strength_window">FYXSightingOptionSignalStrengthWindowKey</a></td>
                        <td>Smoothing of signal strengths using historic sliding window averaging</td>
                        <td>int</td>
                        <td>FYXSightingOptionSignalStrengthWindowLarge</td>
                    </tr>
                    <tr>
                        <td>FYXVisitOptionDepartureIntervalInSecondsKey</td>
                        <td>Number of seconds before the absence of a beacon triggers the <code>didDepart</code>
                            callback
                        </td>
                        <td>NSTimeInterval</td>
                        <td>5 seconds</td>
                    </tr>
                    <tr>
                        <td>FYXVisitOptionBackgroundDepartureIntervalInSecondsKey</td>
                        <td>Number of seconds before the absence of a beacon triggers the <code>didDepart</code>
                            callback in background
                        </td>
                        <td>NSTimeInterval</td>
                        <td>300 seconds</td>
                    </tr>
                    <tr>
                        <td>FYXVisitOptionArrivalRSSIKey</td>
                        <td>An RSSI value of the beacon sighting that must be exceeded before a <code>didArrive</code>
                            callback is triggered
                        </td>
                        <td>NSNumber</td>
                        <td>None</td>
                    </tr>
                    <tr>
                        <td>FYXVisitOptionDepartureRSSIKey</td>
                        <td>If an RSSI value of the beacon sightings is less than this value and the departure interval
                            is exceeded a <code>didDepart</code> callback is triggered
                        </td>
                        <td>NSNumber</td>
                        <td>None</td>
                    </tr>
                    </tbody>
                </table>

                <h2>Sample</h2>
                <pre class="prettyprint lang-js">

    #import &lt;FYX/FYXVisitManager.h&gt;
    #import &lt;FYX/FYXSightingManager.h&gt;
    ...
    @property (nonatomic) FYXVisitManager *visitManager;
    ...
    self.visitManager = [[FYXVisitManager alloc] init];
    self.visitManager.delegate = self;

    NSMutableDictionary *options = [NSMutableDictionary new];
    [options setObject:[NSNumber numberWithInt:FYXSightingOptionSignalStrengthWindowNone] forKey:FYXSightingOptionSignalStrengthWindowKey];
    [options setObject:[NSNumber numberWithInt:5] forKey:FYXVisitOptionDepartureIntervalInSecondsKey];
    [options setObject:[NSNumber numberWithInt:300] forKey:FYXVisitOptionBackgroundDepartureIntervalInSecondsKey];
    [options setObject:[NSNumber numberWithInt:-75] forKey:FYXVisitOptionArrivalRSSIKey];
    [options setObject:[NSNumber numberWithInt:-90] forKey:FYXVisitOptionDepartureRSSIKey];
    [self.visitManager startWithOptions:options];
                </pre>

                <p><span class="label label-info">Note</span> Be sure to add the <code>FYXVisitDelegate</code> protocol to your class.</p>
            </div>
        </div>

    </div>
</div>

<div id="visit_delegate" class="row-fluid api_row">
    <div style="height: 40px;"></div>
    <div class="span12">

        <h1>Visit Delegate</h1>
        <hr/>

        <div class="row-fluid">
            <div class="span12">

                <h2>Description</h2>

                <p>This is the callback delegate for visit notifications.</p>

                <h2>Sample FYXVisitDelegate Methods</h2>

                <p><span class="label label-info">Note</span> You must add the <code>&lt;FYXVisitDelegate&gt;</code>
                    protocol to your class.</p>

                <p>The following callbacks will be invoked when a visit event occurs.</p>

                <pre class="prettyprint lang-js">

    #import &lt;FYX/FYXVisitManager.h&gt;
    ...
    - (void)didArrive:(FYXVisit *)visit {
        // This will be invoked when a visit starts
    }

    - (void)receivedSighting:(FYXVisit *)visit updateTime:(NSDate *)updateTime RSSI:(NSNumber *)RSSI {
        // This will be invoked when a sighting comes in during a visit
    }

    - (void)didDepart:(FYXVisit *)visit {
        // This will be invoked when a visit ends
    }
                </pre>

                <h4>FYXVisit Properties</h4>
                <table class='table table-striped table-bordered table-condensed'>
                    <thead>
                    <tr>
                        <th>Property Name</th>
                        <th>Description</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <td>transmitter</td>
                        <td><a href="#transmitter_properties">FYXTransmitter</a> being sighted</td>
                    </tr>
                    <tr>
                        <td>startTime</td>
                        <td>Time at which the visit starts</td>
                    </tr>
                    <tr>
                        <td>lastUpdateTime</td>
                        <td>Last time which the trasmitter was sighted</td>
                    </tr>
                    <tr>
                        <td>dwellTime</td>
                        <td>Time interval between the visit start time and the last update time</td>
                    </tr>
                    </tbody>
                </table>


            </div>
        </div>
    </div>
</div>

<div id="stop" class="row-fluid api_row">
    <div style="height: 40px;"></div>
    <div class="span12">

        <h1>Stop Visit Manager</h1>
        <hr/>

        <div class="row-fluid">
            <div class="span12">

                <h2>Description</h2>

                <p>This call stops the callbacks to the delegate for visits.</p>

                <h2>Sample</h2>
                <pre class="prettyprint lang-js">

    #import &lt;FYX/FYXVisitManager.h&gt;
    ...
    [self.visitManager stop];
                </pre>
            </div>
        </div>

    </div>
</div>

<!-- iBeacon -->
<div id="ibeacons" class="row-fluid api_row">
    <div style="height: 40px;"></div>
    <div class="span12">

        <h1>iBeacon&#8482;</h1>
        <hr/>

        <div class="row-fluid">
            <div class="span12">

                <h2 id="ibeacon_overview">Overview</h2>
                <p>Depending on your application's use case, the Gimbal Series 20 beacon can be configured to use iBeacon technology. To learn how to create a Gimbal beacon with iBeacon technology please read the <a href="../../ios_proximity_ibeacon_quickstart.html">Quickstart Guide with iBeacon</a>.  The Proximity framework makes it very easy to use both types of beacons from the SDK and lets you manage them through the <a href="https://manager.gimbal.com">Gimbal Manager Portal</a>.</p>

                <p><a href="../../ios_proximity_ibeacon_quickstart.html" class="btn btn-primary btn-large">Quick Start Guide with iBeacon &raquo;</a></p>

                <p><b><span class="label label-important">Important</span></b> Gimbal SDK for iOS uses both Significant Location Change and Region Monitoring features of the iOS. In order to allow for this, an entry 'NSLocationAlwaysUsageDescription' is required. In the Info.plist file located in the 'Supporting Files' folder, add a new entry with key 'NSLocationAlwaysUsageDescription'. The value should contain a user visible string describing the app’s need for the “always” location permission.</p>

                <h2 id="ibeacon_visits">Visits</h2>

                <p>Much like a standard Gimbal beacon, you can be notified of a proximate Gimbal beacon with iBeacon technology by creating a <a href="#start">VisitManager</a> and set any <a href="#start_with_options">options</a> that suit your use case.  The only difference is that you need to implement and set a FYXiBeaconVisitDelegate.  Below you can see the needed callbacks for sighting a Gimbal beacon with iBeacon technology.</p>
                <p>
               <span class="label label-warning">Note</span> The SDK will only look for beacons that are managed in the <a href="https://manager.gimbal.com">Gimbal Manager Portal</a>.
                </p>

                <pre class="prettyprint lang-js">

    #import &lt;FYX/FYXVisitManager.h&gt;
    ...
    - (void)didArriveIBeacon:(FYXiBeaconVisit *)visit;
    - (void)receivedIBeaconSighting:(FYXiBeaconVisit *)visit updateTime:(NSDate *)updateTime  RSSI:(NSNumber *)RSSI;
    - (void)didDepartIBeacon:(FYXiBeaconVisit *)visit;
                </pre>

                <p>  You can set this delegate on the VisitManager like this:
                </p>

                <pre class="prettyprint lang-js">

    #import &lt;FYX/FYXVisitManager.h&gt;
    ...
    FYXVisitManager visitManager = [FYXVisitManager new];
    visitManager.delegate = gimbalBeaconDelegate;    //To receive visits from Gimbal beacons
    visitManager.iBeaconDelegate = iBeaconDelegate;  //To receive visits from managed Gimbal beacons with iBeacon technology
                </pre>

                <h4>FYXiBeaconVisit Properties</h4>
                <table class='table table-striped table-bordered table-condensed'>
                    <thead>
                    <tr>
                        <th>Property Name</th>
                        <th>Description</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <td>startTime</td>
                        <td>Time at which the visit starts</td>
                    </tr>
                    <tr>
                        <td>lastUpdateTime</td>
                        <td>Last time which the beacon was sighted</td>
                    </tr>
                    <tr>
                        <td>dwellTime</td>
                        <td>Time interval between the visit start time and the last update time</td>
                    </tr>
                    <tr>
                        <td>iBeacon</td>
                        <td>FYXiBeacon being sighted</td>
                    </tr>
                    </tbody>
                </table>

                <br/>
                <h4 >FYXiBeacon Properties</h4>
                <table class='table table-striped table-bordered table-condensed'>
                    <thead>
                    <tr>
                        <th>Property Name</th>
                        <th>Description</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <td>uuid</td>
                        <td>The Proximity UUID of the beacon</td>
                    </tr>
                    <tr>
                        <td>major</td>
                        <td>The Major being broadcast by the beacon</td>
                    </tr>
                    <tr>
                        <td>minor</td>
                        <td>The Minor being broadcast by the beacon</td>
                    </tr>
                    <tr>
                        <td>rssi</td>
                        <td>The RSSI broadcasted for the current sighting</td>
                    </tr>
                    <tr>
                        <td>proximity</td>
                        <td>The Proximity Enumeration provided by iOS as a string</td>
                    </tr>
                    <tr>
                        <td>accuracy</td>
                        <td>The Accuracy of the proximity and rssi values in terms of meters</td>
                    </tr>

                    </tbody>
                </table>


            </div>
        </div>

    </div>
</div>

<!-- Beacon Configuration -->
<div id="beacon_configuration"></div>
<div id="beacon_default_configurations" class="row-fluid api_row">
    <div style="height: 40px;"></div>
    <div class="span12">

        <h1>Default Beacon Configurations</h1>
        <hr/>

        <div class="row-fluid">
            <div class="span12" style="padding-right:50px;">

                <p>Beacon Configurations allow you to customize hardware specific attributes such as antenna type, transmit power, etc, for a particular beacon. This results in having the SDK detect the presense of that beacon in different ways.  For example, adjusting the transmit power of a beacon can result in a greator detection distance.</p>

                <p>Here are the default beacon configurations:</p>

                <table class='table table-striped table-bordered table-condensed'>
                    <thead>
                    <tr>
                        <th width="175">Configuration Name</th>
                        <th>Behavior</th>
                        <th>Where should this configuration be used?</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <td>Recommended</td>
                        <td>Constant sightings in forground. Sightings in background come in at a rate of 3 per minute.</td>
                        <td>Apply this configuration when timely background sightings are critical to your application's function.</td>
                    </tr>
                    <tr>
                        <td>Presence optimized</td>
                        <td>Same as Recommended, however sightings in background come in at a rate of 1 per minute. This results in a significant amount of battery savings when in constant proximity of a beacon.</td>
                        <td>Apply this configuration when the user's phone will be in prolonged proximity of that beacon. This configuration will minimize the impact of the user's phone battery life when in proximity of beacons that have this configuration.</td>
                    </tr>
                    </tbody>
                </table>
                                
            </div>
        </div>

    </div>
</div>                

<div id="beacon_assign_configuration" class="row-fluid api_row">
    <div style="height: 40px;"></div>
    <div class="span12">

        <h1>Assigning a Configuration to Beacon</h1>
        <hr/>

        <div class="row-fluid">
            <div class="span12">

                <p>Assigning a configuration indicates to the server that you want to push that configuration to the specified beacon when possible.  To do so navigate to <a href="https://manager.gimbal.com/transmitters">Proximity > Beacons</a> and edit a beacon.</p>

                <p>
                 <img src="../../images/edit_beacon_config.jpg"/>
                </p>
                                
            </div>
        </div>

    </div>
</div>                

<div id="configure_beacon" class="row-fluid api_row">
    <div style="height: 40px;"></div>
    <div class="span12">

        <h1>Push Configuration To Beacon</h1>
        <hr/>

        <div class="row-fluid">
            <div class="span12">

                <p>In order to push configurations to a beacon you must use the Gimbal Beacon Manager application that can be found in the App Store&#8480; <a href="https://itunes.apple.com/us/app/gimbal-beacon-manager/id785688563?mt=8">here</a>.  Open the Gimbal Beacon Manager application and log in using your Gimbal Manager credentials.</p>

                <p>
                    <img src="../../images/gbm_login.png"/>
                </p>

                <p>
                    Once logged in hit the settings button to reveal the settings menu.  Click on the "Configure" menu option.
                <p>

                <p>
                    <img src="../../images/gbm_configure_settings.png"/>
                </p>

                <p>
                    Follow the directions on the screen and remove all batteries from your Gimbal Series 20 Beacon and then re-insert the batteries.  This places the beacon in a configurable mode and the application will be able to push your configuration.  When connected to the beacon you should see something like the following.
                </p>

                <p>
                    <img src="../../images/gbm_beacon_connected.png">
                </p>

                <p>
                    Notice that the configuration on the beacon does not match the configuration indicated from the Server.  Push the update button to apply your configuration.
                </p>

                <p>
                    <img src="../../images/gbm_beacon_updated.png"/>
                </p>
                                
            </div>
        </div>

    </div>
</div> 

<!-- Beacon Configuration -->
<div id="background" class="row-fluid api_row">
    <div style="height: 40px;"></div>
    <div class="span12">

        <h1>Background</h1>
        <hr/>

        <div class="row-fluid">
            <div class="span12">

                <h2 id="background_modes">Background Modes</h2>

                <p>To properly receive Gimbal Proximity events in the background your application needs to enable the
                    following iOS background modes.</p>

                <div class="well">
                    <ul>
                        <li>Uses Bluetooth LE accessories  <code>bluetooth-central</code></li>
                    </ul>
                </div>

                <h2 id="background_behavior">Background Behavior</h2>

                <p>In the foreground your application should be notified for most Gimbal Proximity Events that originate
                    from a beacon. In the background this is not the case. In the background the device receives
                    Bluetooth LE events much less frequently.</p>

                <h3>Expected Time to Arrival</h3>

                <p>The following table shows how long it takes to receive an <code>Arrive</code> event from our VisitManager
                    based on the testing we've done on devices running different iOS versions.</p>
                <h4>iOS 7</h4>
                <table class='table table-striped table-bordered table-condensed'>
                    <thead>
                    <tr>
                        <th>Beacon Transmit Rate</th>
                        <th>Average Time to Arrival</th>
                        <th>Standard Deviation</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <td>100 milliseconds</td>
                        <td>7 seconds</td>
                        <td>10 seconds</td>
                    </tr>
                    <tr>
                        <td>645 milliseconds</td>
                        <td>15 seconds</td>
                        <td>6 seconds</td>
                    </tr>
                </table>

                <h4>iOS 6</h4>
                <table class='table table-striped table-bordered table-condensed'>
                    <thead>
                    <tr>
                        <th>Beacon Transmit Rate</th>
                        <th>Average Time to Arrival</th>
                        <th>Standard Deviation</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <td>100 milliseconds</td>
                        <td>20 seconds</td>
                        <td>11 seconds</td>
                    </tr>
                    <tr>
                        <td>645 milliseconds</td>
                        <td>85 seconds</td>
                        <td>59 seconds</td>
                    </tr>
                </table>

            </div>
        </div>

    </div>
</div>

<!-- Application Information -->
<div id="app_info" class="row-fluid api_row">
    <div style="height: 40px;"></div>
    <div class="span12">

        <h1>Application Information</h1>
        <hr/>

        <div class="row-fluid">
            <div class="span12">

                <h2>Description</h2>

                <p>This call provides the following Gimbal Proximity application information.</p>

                <h3><code>FYXAppInfo</code> Properties</h3>


                <table class='table table-striped table-bordered table-condensed'>
                    <thead>
                    <tr>
                        <th>Property</th>
                        <th>Description</th>
                    </tr>
                    </thead>

                    <tbody>
                    <tr>
                        <td>receiverId</td>
                        <td>The unique identifier for this receiver application. Null if the receiver has not
                            registered yet.
                        </td>
                    </tr>
                    <tr>
                        <td>receiverOwnerId</td>
                        <td>The unique identifier for this receiver's authenticated user. Null if the user has not
                            authenticated yet.
                        </td>
                    </tr>
                    <tr>
                        <td>oauthToken</td>
                        <td>The OAuth2 token used for authenticated requests against the Gimbal Proximity Service. Empty
                            string if
                            the user has not
                            authorized yet.
                        </td>
                    </tr>
                    </tbody>
                </table>

                <h2>Sample</h2>
                <pre class="prettyprint lang-js">

    #import &lt;FYX/FYX.h&gt;
    #import &lt;FYX/FYXAppInfo.h&gt;
    ...
    FYXAppInfo *appInfo = [FYX currentAppInfo];

                </pre>
            </div>
        </div>

    </div>
</div>

<!-- Transmitter Management -->
<div id="add_transmitter" class="row-fluid api_row">
    <div style="height: 40px;"></div>
    <div class="span12">

        <h1>Add a Transmitter</h1>
        <hr/>

        <div class="row-fluid">
            <div class="span12">

                <h2>Description</h2>

                <p>Add a transmitter for the authenticated user.</p>

                <h2>Sample</h2>
                <pre class="prettyprint lang-js">

    #import &lt;FYX/FYXTransmitter.h&gt;
    #import &lt;FYX/FYXTransmitterManager.h&gt;
    ...
    [FYXTransmitterManager addTransmitter:myTransmitter
                                  passcode:myTransmitterPasscode
                                   success:^() {
                                       // do something on success
                                   }
                                   failure:^(NSError *error) {
                                       // do something on failure
                                   }];
                </pre>
            </div>
        </div>

    </div>
</div>

<div id="retrieve_transmitters" class="row-fluid api_row">
    <div style="height: 40px;"></div>
    <div class="span12">

        <h1>Retrieve Transmitters</h1>
        <hr/>

        <div class="row-fluid">
            <div class="span12">

                <h2>Description</h2>

                <p>Retrieve the transmitters for the authenticated user.</p>

                <h2>Sample</h2>
                <pre class="prettyprint lang-js">

    #import &lt;FYX/FYXTransmitterManager.h&gt;
    ...
    [FYXTransmitterManager retrieveTransmittersSuccess:^(NSArray *transmitters) {
                                                    // do something on success
                                                }
                                                failure:^(NSError *error) {
                                                    // do something on failure
                                                }];
                </pre>
            </div>
        </div>

    </div>
</div>

<div id="edit_transmitter" class="row-fluid api_row">
    <div style="height: 40px;"></div>
    <div class="span12">

        <h1>Edit Transmitter</h1>
        <hr/>

        <div class="row-fluid">
            <div class="span12">

                <h2>Description</h2>

                <p>Edit a transmitter for the authenticated user.</p>

                <h2>Sample</h2>
                <pre class="prettyprint lang-js">

    #import &lt;FYX/FYXTransmitter.h&gt;
    #import &lt;FYX/FYXTransmitterManager.h&gt;
    ...
    [FYXTransmitterManager editTransmitter:myTransmitter
                                    success:^() {
                                        // do something on success
                                    }
                                    failure:^(NSError *error) {
                                        // do something on failure
                                    }];
                </pre>
            </div>
        </div>

    </div>
</div>

<div id="remove_transmitter" class="row-fluid api_row">
    <div style="height: 40px;"></div>
    <div class="span12">

        <h1>Remove Transmitter</h1>
        <hr/>

        <div class="row-fluid">
            <div class="span12">

                <h2>Description</h2>

                <p>Remove a transmitter for the authenticated user.</p>

                <h2>Sample</h2>
                <pre class="prettyprint lang-js">

    #import &lt;FYX/FYXTransmitterManager.h&gt;
    ...
    [FYXTransmitterManager removeTransmitter:myTransmitterIdentifier
                                      success:^() {
                                          // do something on success
                                      }
                                      failure:^(NSError *error) {
                                          // do something on failure
                                      }];
                </pre>
            </div>
        </div>

    </div>
</div>

<!-- Logging Management -->
<div id="set_log_level" class="row-fluid api_row">
    <div style="height: 40px;"></div>
    <div class="span12">

        <h1>Set Log Level</h1>
        <hr/>

        <div class="row-fluid">
            <div class="span12">

                <h2>Description</h2>

                <p>Set the logging level for the Gimbal Proximity SDK. The available levels are FYX_LOG_LEVEL_VERBOSE,
                    FYX_LOG_LEVEL_INFO, FYX_LOG_LEVEL_WARN, FYX_LOG_LEVEL_ERROR. The default logging level is ERROR.
                    setLogLevel must be called after setting the app id, secret, and callback.</p>

                <h2>Sample</h2>
                <pre class="prettyprint lang-js">

    #import &lt;FYX/FYX.h&gt;
    #import &lt;FYX/FYXLogging.h&gt;
    ...
    [FYX setAppId:@"your-app-id" appSecret:@"your-app-secret"];
    [FYXLogging setLogLevel:FYX_LOG_LEVEL_VERBOSE];
                </pre>
            </div>
        </div>

    </div>
</div>

<div id="enable_file_logging" class="row-fluid api_row">
    <div style="height: 40px;"></div>
    <div class="span12">

        <h1>Enable File Logging</h1>
        <hr/>

        <div class="row-fluid">
            <div class="span12">

                <h2>Description</h2>

                <p>Turn on file logging for SDK log calls. File logging is enabled by default.</br> </br>
                    To view the logs:</br>
                    Open organizer</br>
                    Select 'applications' under the device you are using in the organizer</br>
                    Select 'download'</br>
                    In Finder, control-left click the file, click 'show package contents'</br>
                    Open AppData->Library->Caches->Logs-> (your log file) in some text viewer or console</p>

                <h2>Sample</h2>
                <pre class="prettyprint lang-js">

    #import &lt;FYX/FYX.h&gt;
    #import &lt;FYX/FYXLogging.h&gt;
    ...
    [FYX setAppId:@"your-app-id" appSecret:@"your-app-secret"];
    [FYXLogging enableFileLogging];
                </pre>
            </div>
        </div>

    </div>
</div>

<div id="disable_file_logging" class="row-fluid api_row">
    <div style="height: 40px;"></div>
    <div class="span12">

        <h1>Disable File Logging</h1>
        <hr/>

        <div class="row-fluid">
            <div class="span12">

                <h2>Description</h2>

                <p>Turn off file logging for SDK log calls. File logging is enabled by default.</p>

                <h2>Sample</h2>
                <pre class="prettyprint lang-js">

    #import &lt;FYX/FYX.h&gt;
    #import &lt;FYX/FYXLogging.h&gt;
    ...
    [FYX setAppId:@"your-app-id" appSecret:@"your-app-secret"];
    [FYXLogging disableFileLogging];
                </pre>
            </div>
        </div>

    </div>
</div>
<div class="hero-unit">
        <h1>Proximity Based Communication Guide</h1>
        <br />
        <p>How to use a Beacon visit arrival to retrieve a Communication.</p>
    </div>

    <div id="communicate" class="row-fluid api_row">
      <div style="height: 40px;"></div>
      <div class="span12">
        <h1>Create Communication</h1>
        <hr/>
        <div class="row-fluid">
          <p>Use the Gimbal Manager to create a Communication that will be retrieved when you arrive at a beacon.</p>
          <p><a href="https://manager.gimbal.com/communicate" class="btn btn-primary btn-large"
                target="_blank">Gimbal Manager &raquo;</a></p>
            <ul>
                <li>Navigate to the Communicate section of Gimbal Manager and click the <code>New</code> button</li>
                <li>Fill in the mandatory fields on the <code>General</code> tab</li>
                <li>Set the Triggers field to <code>None</code> on the <code>Triggers</code> tab</li>
                <li>Create a Communication Attribute that will be used to search for the content associated with the beacon on the <code>Attributes</code> tab</li>
                <li>Fill in the mandatory fields on the <code>Notification</code> tab</li>
                <li>Save and Publish your Communication</li>
            </ul>
          <p><img src="../../images/beacon_attributes.png"></p>
        </div>
      </div>
    </div>
    
    <div id="proximity" class="row-fluid api_row">
      <div style="height: 40px;"></div>
      <div class="span12">
        <h1>Setup Proximity</h1>
        <hr/>

        <div class="row-fluid">
          <p>The Gimbal Proximity framework enables proximity services within your application.</p>
          <p>This framework is essential for your application to capture visits of nearby beacons.</p>

          <p><a href="../../iosdocs/v1/quickstart.html" class="btn btn-primary btn-large">iOS Quick Start &raquo;</a></p>

          <p><b><span class="label label-info">Note</span></b> The section for using the <code>FYXSightingManager</code> is optional for this particular guide.</p>
        </div>
        
    </div>

    <div id="context" class="row-fluid api_row">
      <div style="height: 40px;"></div>
      <div class="span12">
        <h1>Setup Context</h1>
        <hr/>

        <div class="row-fluid">
          <p>The Gimbal Context frameworks provide the ability to retrieve content from the Gimbal Manager.</p>
          <p>It's essential to setup the Context SDK within your application to access this content.</p>

          <p><a href="../../iosdocs/v1/quickstart.html" class="btn btn-primary btn-large">iOS Quick Start &raquo;</a></p>

          <p><b><span class="label label-info">Note</span></b> The sections for <code>Creating a Geofence</code> and using the <code>QLContextPlaceConnector</code> are optional for this particular guide.</p>
        </div>
      </div>
    </div>
          
    <div id="combined" class="row-fluid api_row">
      <div style="height: 40px;"></div>
      <div class="span12">
        <h1>Tie it All Together</h1>
        <hr/>
        <div class="row-fluid">
          <p>Finally, <a href="#visits">Setup the Visit Manager</a> and implement the <code>FYXVisitDelegate</code> protocol's <code>didArrive:</code> method.</p>

          <p>Within this method, retrieve content from the Gimbal Manager using <code>QLQueryForAnyAttributes</code> described earlier in this Developer Guide</p>

          <p>The following example assumes the previously defined Communication Attribute was <code>key=beacon_name</code> and <code>value=mybeacon</code>.</p>
          <pre class="prettyprint lang-js">
  - (void)didArrive:(FYXVisit *)visit {
  {
      QLQueryForAnyAttributes *queryForAnyAttributes = [[QLQueryForAnyAttributes alloc] init]; 
      [queryForAnyAttributes whereKey:@"beacon_name" containsStringValue:visit.transmitter.name];

      [self.contentConnector contentsWithQuery:queryForAnyAttributes 
             success:^(NSArray *contents) { 
            // If the transmitter.name matches "mybeacon", the contents parameter will contain the communication
      } failure:^(NSError *error) { 
            // Failed to retrieve content 
      }]; 

  }              
          </pre>
        </div>
      </div>
    </div>
      
</div>    

</div>
</div>



    <footer class="row-fluid">

         

             <div id="footer" class="span12">

        <p>&copy; 2014 Gimbal, Inc. All rights reserved. Gimbal is a trademark of Gimbal, Inc.,registered in the United States and other countries. QUALCOMM is a trademark of QUALCOMM Incorporated, registered in the United States and other countries.</p>
        <p>Use of the iBeacon logo means that a Licensed Product has been designed and certified by the manufacturer to meet Apple performance standards. Apple is not responsible for the operation of this device or its compliance with safety and regulatory standards. Please note that the use of this product with iPod, iPhone, or iPad may affect wireless performance.
        </p>
        <p>
        iPad, iPhone, iPod, and iPod touch are trademarks of Apple Inc., registered in the U.S. and other countries. iBeacon is a trademark of Apple Inc.
        </p>

            </div>
         

    </footer>

 

                

<script src="../../js/jquery-1.8.2.min.js"></script>
<script src="../../js/bootstrap.min.js"></script>
<script type="text/javascript" src="../../js/prettify.js"></script>
<script type="text/javascript" src="../../js/nav-scrolling.js"></script>

</body>
</html>